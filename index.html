<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Simulador de Identidade e Acessos - Nuvem</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f0f2f5;
            padding: 20px;
        }
        h1 { text-align: center; }
        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0px 0px 10px #ccc;
        }
        input, select, button {
            padding: 8px;
            margin: 5px;
            width: 95%;
        }
        .log {
            background: black;
            color: lime;
            padding: 10px;
            height: 200px;
            overflow-y: scroll;
            font-family: monospace;
            border-radius: 5px;
        }
    </style>
</head>
<body>

<h1>Simulador Completo de Identidade e Acessos</h1>

<div class="container">
    <h2>‚ñ∂ Criar Usu√°rio</h2>
    <input id="userName" placeholder="Nome do usu√°rio">
    <button onclick="createUser()">Criar Usu√°rio</button>
</div>

<div class="container">
    <h2>‚ñ∂ Criar Grupo</h2>
    <input id="groupName" placeholder="Nome do grupo">
    <button onclick="createGroup()">Criar Grupo</button>
</div>

<div class="container">
    <h2>‚ñ∂ Criar Pol√≠tica</h2>
    <input id="policyName" placeholder="Nome da pol√≠tica">
    <button onclick="createPolicy()">Create Policy</button>
</div>

<div class="container">
    <h2>‚ñ∂ Atribuir Pol√≠tica ao Usu√°rio</h2>
    <input id="userPolicyUser" placeholder="Usu√°rio">
    <input id="userPolicyName" placeholder="Pol√≠tica">
    <button onclick="assignPolicy()">Atribuir Pol√≠tica</button>
</div>

<div class="container">
    <h2>‚ñ∂ Adicionar Usu√°rio a Grupo</h2>
    <input id="addUser" placeholder="Usu√°rio">
    <input id="addGroup" placeholder="Grupo">
    <button onclick="addUserToGroup()">Adicionar ao Grupo</button>
</div>

<div class="container">
    <h2>‚ñ∂ Remover Usu√°rio de Grupo</h2>
    <input id="removeUser" placeholder="Usu√°rio">
    <input id="removeGroup" placeholder="Grupo">
    <button onclick="removeUserFromGroup()">Remover do Grupo</button>
</div>

<div class="container">
    <h2>‚ñ∂ Resetar Senha</h2>
    <input id="resetUser" placeholder="Usu√°rio">
    <button onclick="resetPassword()">Resetar Senha</button>
</div>

<div class="container">
    <h2>‚ñ∂ Habilitar / Desabilitar MFA</h2>
    <input id="mfaUser" placeholder="Usu√°rio">
    <select id="mfaAction">
        <option value="on">Habilitar MFA</option>
        <option value="off">Desabilitar MFA</option>
    </select>
    <button onclick="toggleMFA()">Aplicar</button>
</div>

<div class="container">
    <h2>‚ñ∂ Deletar Usu√°rio</h2>
    <input id="deleteUser" placeholder="Usu√°rio">
    <button onclick="deleteUser()">Deletar Usu√°rio</button>
</div>

<div class="container">
    <h2>‚ñ∂ Simular Login</h2>
    <input id="loginUser" placeholder="Usu√°rio">
    <button onclick="simulateLogin()">Simular Login</button>
</div>

<div class="container">
    <h2>‚ñ∂ Listar Tudo</h2>
    <button onclick="listAll()">Listar Usu√°rios, Grupos e Pol√≠ticas</button>
</div>

<div class="container">
    <h2>LOG DO SISTEMA</h2>
    <div class="log" id="log"></div>
</div>

<script>
let users = {};
let groups = {};
let policies = {};

function log(msg) {
    document.getElementById("log").innerHTML += msg + "<br>";
}

// Criar usu√°rio
function createUser() {
    const name = document.getElementById("userName").value;
    if (!name) return;
    users[name] = { password: "1234", mfa: false, groups: [], policies: [] };
    log("Usu√°rio criado: " + name);
}

// Criar grupo
function createGroup() {
    const group = document.getElementById("groupName").value;
    if (!group) return;
    groups[group] = [];
    log("Grupo criado: " + group);
}

// Criar pol√≠tica
function createPolicy() {
    const policy = document.getElementById("policyName").value;
    if (!policy) return;
    policies[policy] = true;
    log("Pol√≠tica criada: " + policy);
}

// Atribuir pol√≠ticas
function assignPolicy() {
    const user = document.getElementById("userPolicyUser").value;
    const policy = document.getElementById("userPolicyName").value;
    if (!users[user]) return log("Usu√°rio n√£o existe!");
    if (!policies[policy]) return log("Pol√≠tica n√£o existe!");
    users[user].policies.push(policy);
    log("Pol√≠tica " + policy + " atribu√≠da ao usu√°rio " + user);
}

// Adicionar usu√°rio ao grupo
function addUserToGroup() {
    const user = document.getElementById("addUser").value;
    const group = document.getElementById("addGroup").value;
    if (!users[user]) return log("Usu√°rio n√£o existe!");
    if (!groups[group]) return log("Grupo n√£o existe!");
    groups[group].push(user);
    users[user].groups.push(group);
    log("Usu√°rio " + user + " adicionado ao grupo " + group);
}

// Remover do grupo
function removeUserFromGroup() {
    const user = document.getElementById("removeUser").value;
    const group = document.getElementById("removeGroup").value;
    if (!users[user]) return log("Usu√°rio n√£o existe!");
    if (!groups[group]) return log("Grupo n√£o existe!");
    groups[group] = groups[group].filter(u => u !== user);
    users[user].groups = users[user].groups.filter(g => g !== group);
    log("Usu√°rio " + user + " removido do grupo " + group);
}

// Resetar senha
function resetPassword() {
    const user = document.getElementById("resetUser").value;
    if (!users[user]) return log("Usu√°rio n√£o existe!");
    users[user].password = "novaSenha123";
    log("Senha de " + user + " resetada!");
}

// MFA
function toggleMFA() {
    const user = document.getElementById("mfaUser").value;
    const action = document.getElementById("mfaAction").value;
    if (!users[user]) return log("Usu√°rio n√£o existe!");
    users[user].mfa = action === "on";
    log("MFA para " + user + " agora est√°: " + (users[user].mfa ? "Ativado" : "Desativado"));
}

// Deletar usu√°rio
function deleteUser() {
    const user = document.getElementById("deleteUser").value;
    if (!users[user]) return log("Usu√°rio n√£o existe!");
    delete users[user];
    log("Usu√°rio deletado: " + user);
}

// Simular login
function simulateLogin() {
    const user = document.getElementById("loginUser").value;
    if (!users[user]) return log("Usu√°rio n√£o existe!");
    log("LOGIN: " + user + " | MFA: " + users[user].mfa + " | Pol√≠ticas: " + users[user].policies.join(", "));
}

// Listar tudo
function listAll() {
    log("<br>üìå Usu√°rios: " + JSON.stringify(users));
    log("üìå Grupos: " + JSON.stringify(groups));
    log("üìå Pol√≠ticas: " + JSON.stringify(policies) + "<br>");
}
</script>

</body>
</html>

